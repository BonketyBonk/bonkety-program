{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/components/Modal/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { css, Global } from \"@emotion/react\";\nimport styled from \"@emotion/styled\";\nimport { DialogContent, DialogOverlay } from \"@reach/dialog\";\nimport { animated, useSpring, useTransition } from \"@react-spring/web\";\nimport React from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { useGesture } from \"react-use-gesture\";\n\nimport { BackIcon, CloseIcon, SolanaLogo } from \"./icons\";\n\nexport interface ModalProps {\n  children: React.ReactNode;\n  isOpen: boolean;\n  onDismiss: () => void;\n  darkenOverlay?: boolean;\n\n  onBack?: () => void;\n  hideCloseButton?: boolean;\n  hideSolanaLogo?: boolean;\n}\n\nexport const Modal: React.FC<ModalProps> = ({\n  children,\n  isOpen,\n  onDismiss,\n  darkenOverlay = true,\n\n  onBack,\n  hideCloseButton = false,\n  hideSolanaLogo = true,\n}: ModalProps) => {\n  const fadeTransition = useTransition(isOpen, {\n    config: { duration: 150 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n  });\n\n  const [{ y }, set] = useSpring(() => ({\n    y: 0,\n    config: { mass: 1, tension: 210, friction: 20 },\n  }));\n  const bind = useGesture({\n    onDrag: (state) => {\n      set({\n        y: state.down ? state.movement[1] : 0,\n      });\n      if (\n        state.movement[1] > 300 ||\n        (state.velocity > 3 && state.direction[1] > 0)\n      ) {\n        onDismiss();\n      }\n    },\n  });\n\n  return (\n    <>\n      {/* @reach/dialog/styles.css */}\n      <Global\n        styles={css`\n          :root {\n            --reach-dialog: 1;\n          }\n\n          [data-reach-dialog-overlay] {\n            background: hsla(0, 0%, 0%, 0.33);\n            position: fixed;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            overflow: auto;\n          }\n\n          [data-reach-dialog-content] {\n            width: 50vw;\n            margin: 10vh auto;\n            background: white;\n            padding: 2rem;\n            outline: none;\n          }\n        `}\n      />\n      {fadeTransition(\n        (styles, item) =>\n          item && (\n            <StyledDialogOverlay\n              style={styles}\n              isOpen={isOpen || styles.opacity.get() !== 0}\n              onDismiss={onDismiss}\n              darkenOverlay={darkenOverlay}\n            >\n              <ModalWrapper\n                className=\"goki-walletkit-modal-wrapper\"\n                aria-label=\"dialog content\"\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: {\n                        transform: y.to(\n                          (n) => `translateY(${n > 0 ? n : 0}px)`\n                        ),\n                      },\n                    }\n                  : {})}\n              >\n                <TopArea>\n                  {onBack ? (\n                    <ButtonIcon\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        onBack();\n                      }}\n                    >\n                      <BackIcon />\n                    </ButtonIcon>\n                  ) : (\n                    <div />\n                  )}\n                  {hideSolanaLogo ? (\n                    <div />\n                  ) : (\n                    <LogoWrapper>\n                      <SolanaLogo />\n                    </LogoWrapper>\n                  )}\n                  {hideCloseButton ? (\n                    <div />\n                  ) : (\n                    <ButtonIcon\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        e.preventDefault();\n                        onDismiss();\n                      }}\n                    >\n                      <CloseIcon />\n                    </ButtonIcon>\n                  )}\n                </TopArea>\n                <Content>{children}</Content>\n              </ModalWrapper>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  );\n};\n\nconst LogoWrapper = styled.div`\n  flex: 1 1 auto;\n\n  display: flex;\n  justify-content: center;\n`;\n\nconst TopArea = styled.div`\n  position: absolute;\n  top: 12px;\n  left: 16px;\n  right: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst ButtonIcon = styled.a`\n  flex: 0 0 24px;\n  color: #ccd2e3;\n  &:hover {\n    color: #adb6d2;\n  }\n  transition: 0.1s ease;\n`;\n\nconst Content = styled.div`\n  position: absolute;\n  top: 28px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`;\n\nconst ModalWrapper = styled(animated(DialogContent))`\n  * {\n    box-sizing: border-box;\n  }\n  font-family: Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\";\n\n  position: relative;\n\n  box-shadow: 0px 4px 16px rgba(207, 207, 207, 0.25);\n  width: 100%;\n  max-width: 360px;\n  height: 608px;\n  border-radius: 8px;\n  background: #fff;\n  color: #696969;\n\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 15px;\n  letter-spacing: -0.02em;\n  color: #696969;\n`;\n\nconst StyledDialogOverlay = styled(animated(DialogOverlay), {\n  shouldForwardProp(prop) {\n    return prop !== \"darkenOverlay\";\n  },\n})<{\n  darkenOverlay: boolean;\n}>`\n  [data-reach-dialog-content] {\n    padding: 0;\n  }\n\n  ${({ darkenOverlay }) =>\n    darkenOverlay\n      ? css`\n          background: rgba(0, 0, 0, 0.55);\n        `\n      : css`\n          background: none;\n        `}\n`;\n"]}