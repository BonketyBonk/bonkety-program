{"version":3,"file":"WalletKitProvider.js","sourceRoot":"","sources":["../../src/WalletKitProvider.tsx"],"names":[],"mappings":";;;;;AACA,oDAAqD;AACrD,uDAA6D;AAE7D,0EAG0C;AAG1C,kDAA+E;AAAtE,gHAAA,kBAAkB,OAAA;AAAE,uGAAA,SAAS,OAAA;AAAE,uGAAA,SAAS,OAAA;AAMpC,QAAA,gBAAgB,GAAG,eAAK,CAAC,aAAa,CAAmB,IAAI,CAAC,CAAC;AAMrE,MAAM,iBAAiB,GAAoB,CAAC,EACjD,QAAQ,EACR,GAAG,EACH,WAAW,GAAG,+BAAS,CAAC,KAAK,EAC7B,SAAS,GAAG,KAAK,EACjB,GAAG,kBAAkB,EACf,EAAE,EAAE;IACV,MAAM,CAAC,kBAAkB,EAAE,qBAAqB,CAAC,GAAG,IAAA,gBAAQ,EAAU,KAAK,CAAC,CAAC;IAE7E,MAAM,GAAG,GAAG,IAAA,eAAO,EAAC,GAAG,EAAE;QACvB,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE,CAAC;IACxD,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,CACL,uBAAC,2BAAc,OAAK,kBAAkB,YACpC,wBAAC,wBAAgB,CAAC,QAAQ,IAAC,KAAK,EAAE,GAAG,aACnC,uBAAC,yCAAmB,IAClB,GAAG,EAAE,GAAG,EACR,WAAW,EAAE,WAAW,EACxB,MAAM,EAAE,kBAAkB,EAC1B,SAAS,EAAE,GAAG,EAAE,CAAC,qBAAqB,CAAC,KAAK,CAAC,EAC7C,SAAS,EAAE,SAAS,GACpB,EACD,QAAQ,IACiB,GACb,CAClB,CAAC;AACJ,CAAC,CAAC;AA3BW,QAAA,iBAAiB,qBA2B5B;AAEF;;GAEG;AACI,MAAM,YAAY,GAAG,GAAc,EAAE;IAC1C,MAAM,GAAG,GAAG,IAAA,kBAAU,EAAC,wBAAgB,CAAC,CAAC;IACzC,IAAI,CAAC,GAAG,EAAE;QACR,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;KACnD;IACD,OAAO,GAAG,CAAC;AACb,CAAC,CAAC;AANW,QAAA,YAAY,gBAMvB","sourcesContent":["import type { UseSolanaArgs } from \"@saberhq/use-solana\";\nimport { SolanaProvider } from \"@saberhq/use-solana\";\nimport React, { useContext, useMemo, useState } from \"react\";\n\nimport {\n  ModalStep,\n  WalletSelectorModal,\n} from \"./components/WalletSelectorModal\";\nimport type { WalletKitArgs } from \"./types\";\n\nexport { useConnectedWallet, useSolana, useWallet } from \"@saberhq/use-solana\";\n\nexport interface WalletKit {\n  connect: () => void;\n}\n\nexport const WalletKitContext = React.createContext<WalletKit | null>(null);\n\ninterface Props extends WalletKitArgs, UseSolanaArgs {\n  children: React.ReactNode;\n}\n\nexport const WalletKitProvider: React.FC<Props> = ({\n  children,\n  app,\n  initialStep = ModalStep.Intro,\n  debugMode = false,\n  ...solanaProviderArgs\n}: Props) => {\n  const [showWalletSelector, setShowWalletSelector] = useState<boolean>(false);\n\n  const kit = useMemo(() => {\n    return { connect: () => setShowWalletSelector(true) };\n  }, []);\n\n  return (\n    <SolanaProvider {...solanaProviderArgs}>\n      <WalletKitContext.Provider value={kit}>\n        <WalletSelectorModal\n          app={app}\n          initialStep={initialStep}\n          isOpen={showWalletSelector}\n          onDismiss={() => setShowWalletSelector(false)}\n          debugMode={debugMode}\n        />\n        {children}\n      </WalletKitContext.Provider>\n    </SolanaProvider>\n  );\n};\n\n/**\n * Returns a function which shows the wallet selector modal.\n */\nexport const useWalletKit = (): WalletKit => {\n  const kit = useContext(WalletKitContext);\n  if (!kit) {\n    throw new Error(\"Not in WalletConnector context\");\n  }\n  return kit;\n};\n"]}